#Натуральные числа. Выводит на экран нечетные числа, использующие не более К разных цифр. Список используемых цифр выводится отдельно прописью.

digits = {"0": "ноль","1": "один","2": "два","3": "три","4": "четыре","5": "пять","6": "шесть","7": "семь","8": "восемь","9": "девять"}# создаем словарь для преобразования цифр в слова
def is_natural(number):# создаем функцию для проверки натуральности числа
    if isinstance(number, int) and number > 0:# проверяем, что число является целым и больше нуля
        return True
    else:
        return False
def is_odd(number):# создаем функцию для проверки нечетности числа
    if number % 2 != 0:# проверяем, что число не делится на два без остатка
        return True
    else:
        return False
def count_digits(number):# создаем функцию для проверки количества разных цифр в числе
    unique_digits = set(str(number)) # преобразуем число в строку и удаляем повторяющиеся символы с помощью множества  
    return len(unique_digits)# возвращаем количество элементов в множестве
def print_number(number):  # создаем функцию для вывода числа прописью и списка используемых цифр
     digits_list = list(str(number)) # преобразуем число в строку и разбиваем ее на символы с помощью списка     
     number_in_words = ""          # создаем пустую строку для хранения числа прописью 
     for digit in digits_list:     # проходим по каждому символу в списке и добавляем соответствующее слово из словаря к строке
         number_in_words += digits[digit] + "-"     
     number_in_words = number_in_words[:-1]          # удаляем последний лишний символ "-" из строки  
     print("Число:", number_in_words)          # выводим число прописью на экран
     used_digits = []               # создаем пустой список для хранения используемых цифр
     # проходим по каждому символу в списке и добавляем соответствующее слово из словаря к списку, если его там еще нет 
     for digit in digits_list:
         if digits[digit] not in used_digits:
             used_digits.append(digits[digit])           
     print("Используются цифры:", ", ".join(used_digits))      # выводим список используемых цифр на экран 
file = open("text.txt", "r")# открываем файл в режиме чтения
block_size = 102# задаем размер блока в байтах
while True:    # читаем файл поблочно в цикле while 
   block = file.read(block_size)     # читаем очередной блок из файла 
   if not block:   # если блок пустой, значит достигнут конец файла
       break   
   # делаем что-то с блоком (например, распознаем и выводим натуральные нечетные числа с не более четырьмя разными цифрами)     
   # разбиваем блок на слова с помощью метода split() 
   words = block.split()     
   for word in words:         # проходим по каждому слову в списке   
       try:    
           number = int(word)           # пытаемся преобразовать слово в целое число с помощью функции int()
           # проверяем, что число является натуральным, нечетным и имеет не более четырех разных цифр с помощью созданных функций 
           if is_natural(number) and is_odd(number) and count_digits(number) <= 4: 
               print_number(number)               # выводим число прописью и список используемых цифр с помощью созданной функции
       except:   
           continue           # если слово не является числом, игнорируем его и переходим к следующему слову
file.close()# закрываем файл
