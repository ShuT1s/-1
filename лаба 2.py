# Импортируем модуль re для работы с регулярными выражениями
import re
# Открываем файл для чтения
file = open("text.txt", "r")
# Создаем словарь для преобразования цифр в слова
digits = {"0": "ноль", "1": "один", "2": "два", "3": "три", "4": "четыре",
          "5": "пять", "6": "шесть", "7": "семь", "8": "восемь", 
          "9": "девять"}
# Создаем пустой список для хранения натуральных чисел
numbers = []
# Создаем пустое множество для хранения используемых цифр
used_digits = set()
# Читаем файл построчно
for line in file:
    # Ищем все натуральные числа в строке с помощью регулярного выражения
    matches = re.findall(r"\d+(?:\.\d+)?", line)
    # Добавляем найденные числа в список numbers
    numbers.extend(matches)
# Выводим на экран натуральные числа и их представление словами
print("Натуральные числа:")
for number in numbers:
    # Проверяем, является ли число нечетным и содержит ли оно не более 4 различных цифр
    if int(number) % 2 == 1 and len(set(number)) <= 4:
        # Выводим число на экран
        print(number)
        # Добавляем используемые цифры в множество used_digits
        used_digits.update(number)
        # Выводим представление числа словами с помощью словаря digits
        print(" ".join(digits[digit] for digit in number))
# Выводим на экран список используемых цифр словами с помощью словаря digits        
print("Используемые цифры:")
print(", ".join(digits[digit] for digit in sorted(used_digits)))
